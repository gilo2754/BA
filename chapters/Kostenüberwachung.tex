(CHECK/VERBESSERN Version 10.11)\\
In diesem Kapitel werden Werkzeuge vorgestellt, mit denen Budgets mit Alarmen erstellt werden, diese informieren, wenn ein bestimmter Prozentsatz des festgelegten Budgets überschritten wurde. Die Erstellung von Budgets trägt zu einer besseren Planung-/Prognose- und Kostenkontrolle. ZITAT?
Die Aktivierung von Alarmen[PASSENDES WORT?] ist eine der Maßnahmen, die es uns ermöglichen, auf aktive Ressourcen aufmerksam zu werden, die möglicherweise noch laufen, weil man vergessen hat, sie abzuschalten.
Darüber hinaus ist es mit Werkzeugen wie CloudWatch möglich, die Abschaltung bestimmter Dienste zu automatisieren, wenn eine Budgetschwelle überschritten wurde.

Durch die Verwendung von Tags ist es möglich, die Ressourcen nach Aspekten/Kriterien wie Region, Umgebung, Projekt, Art der Ressource usw. zu visualisieren, was es ermöglicht, die Kosten auf den von der Organisation festgelegten Ebenen zu verfolgen. Es könnte zum Beispiel ein Szenario entstehen, in dem eine Abteilung innerhalb der Organisation mehr Kosten verursacht als andere. In erster Linie ist dies nur bemerkenswert anhand eines Anstiegs der von Amazon generierten Rechnung, aber um den Grund für diesen Anstieg genauer zu verstehen, muss die Ursache für diesen Anstieg untersuchen. Werkzeuge wie Cost Explorer machen diese Art von Analyse möglich.

TRUSTED ADVISOR??
%Zu diesem Zweck werden Werkzeuge vorgestellt, die die Überwachung aktiver Ressourcen ermöglichen.
%Welche Kosten sind mit der Nutzung dieser Werkzeuge verbunden?
%Es sollte gezeigt werden, die Arten/Kategorien von Kunden, die kostenlosen Zugang zu diesen Werkzeuge haben?
%WAS MIT AWS Budgets? AWS Bill and cost Man.?

\subsection{AWS CloudWatch}
%https://aws.amazon.com/de/cloudwatch/pricing/
%https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/GettingStarted.html

Amazon CloudWatch ermöglicht die Überwachung der Leistung von Resources, auch bei Ressourcen, die über verschiedene Regionen verteilt sind.
CloudWatch sammelt operative Daten für die Verlaufsanalysen und die Entscheidungsfindung in Bezug auf Optimierung und Fehlerbehebung.

Eine der Metriken, die mit Amazon CloudWatch überwacht werden kann, ist die CPU-Last von EC2-Instanzen.
Basierend auf einem Prozentsatz der CPU-Last können Alarme?Benachrichtigungen?[WELCHES WORT?] und Aktionen konfiguriert werden
\\\\
Zum Beispiel, eine dieser Aktionen ist die automatische Einrichtung neuer Instanzen zur Deckung des Kapazitätsbedarfs
\footnote{\cite{AWS1}, Seite 185}.
Diese Art von Aktionen werden im Kapitel 7 Optimierungsmöglichkeiten tiefer behandelt.
\\\\
Im Folgenden werden die grundlegenden Bereiche und Begriffe von CloudWatch erläutert und wie sie zur Überwachung von Informationen über AWS-Ressourcen verwendet werden.
\\\\
\textbf{Visualisierung/ Dashboards}\\
Mit Cloud-Watch Dashboards können Boards[BESSERE FORMULIERUNG] mit relevanten Metriken angelegt werden. Sie ermöglichen eine umfassende Visualisierung von Metriken der Ressourcen in der AWS-Umgebung. Durch die Boards[PASSENDES WORT?], können auch Alarmen erstellt werden. Für die Einrichtung der Alarme ist kein technisches Wissen benötigt\footnote{\cite{AMZ14}, Seite 28}.

Die von CloudWatch gesammelte Informationen sind nicht nur relevant für System-Administratoren, es könnten auch für andere Personen innerhalb oder außerhalb der Organisation relevant sein.
Für sollte Fällen bietet CloudWatch die Möglichkeit, eine gemeinsame Sicht auf kritische Ressourcen- und Anwendungsmessungen zu generieren.
Dies ermöglicht einen schnelleren Kommunikationsfluss in Echtzeit. Die Zugriffsverwaltung für geteilte Dashboards wird über AWS Identity and Access Management abgewickelt\footnote{\cite{AMZ14}, Seite 18 und 39}.
\\
%\begin{center}
%    \includegraphics[scale=0.7]{sources/Name}%\label{fig:Name}\\
%   \textbf{Abbildung \autoref{fig:Name}:} 
%   Name
%  %\footnote{Vgl. u.a.\cite{AMZ01}}
% \end{center}
%\\\\

\textbf{Metriken} \\
Eine Metrik stellt eine Reihe von Daten über die Leistung einer Ressource in zeitlicher Reihenfolge dar. Standardmäßig werden viele kostenlose Metriken an CloudWatch übermittelt.
\\
Metriken bleiben wie folgt verfügbar:\\
Auflösung/Zeitraum: \\
1 Minute - 15 Tage\\
5 Minuten - 63 Tage.\\
1 Stunde - 15 Monate
\footnote{\cite{AMZ15}, Wie lange werden die verfügbaren Metriken aufbewahrt?}
 
Zum Beispiel kann der Durchschnitt von einer bestimmten API pro Stunde untersucht werden.
Für eine detailliertere Überwachung ist es möglich, benutzerdefinierte Metriken zu konfigurieren, die eine Auflösung von bis zu 1 Sekunde zulassen. Ein praktisches Beispiel für benutzerdefinierte Metriken ist die Messung der Ladezeit einer Website.
      [EIN BEISPIEL MIT BEZUG AUF K:OPTIMIERUNG?oder WIESO IST DIE AUFLÖSUNG RELEVANT?]

%\textbf{Logs} \\ BRAUCHE ICH DAS?
\textbf{Ereignisse / Events} \\
Bei CloudWatch ist ein Ereignis eine Änderung bei einer Ressource in der AWS-Umgebung.
AWS-Ressourcen können Ereignisse erzeugen, wenn sich ihr Status ändert.

Beispielsweise, ein Ereignis wird erzeugt, wenn Amazon EC2 Auto Scaling, Instanzen startet oder beendet \footnote{\cite{AMZ13}, Seite 1}.

\textbf{Regel} \\
Eine Regel ordnet eintreffende Ereignisse zu und leitet diese zur Verarbeitung an Ziele weiter.
Eine einzelne Regel kann an mehrere Ziele weiterleiten, die alle parallel verarbeitet werden\footnote{\cite{AMZ13}, Seite 2}.

\textbf{Target / Ziele} \\
Ziele sind Ressourcen, die aufgerufen werden, wenn eine Regel ausgelöst wird.
EC2 instances, AWS Lambda functions und Amazon SNS topics sind unter anderem mögliche Ziele.
Die Ziele einer Regel müssen sich in derselben Region wie die Regel befinden
\footnote{\cite{AMZ13}, Seite 2}.
%Alle zugelassene Ressourcen \footnote\url{https://docs.aws.amazon.com/AmazonCloudWatch/latest/events/EventTypes.html}

\textbf{Alarme?Benachrichtigungen?}\\
%https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/AlarmThatSendsEmail.html
Benachrichtigt zu werden ist es wichtig, um relevante Ereignisse nicht zu verpassen und rechtzeitig Maßnahmen zu ergreifen. Mit CloudWatch können Alarme einrichtet werden, die durch Metriken wie die CPU-Last und auch Gebühren[ANDERES WORT] auf AWS-Rechnungen ausgelöst werden.

Benachrichtigungen können durch Amazon SNS oder zu einer E-Mail-Adresse geschickt werden.[NUR?]
%This could be a good example %https://youtu.be/__knpcBRLHg?t=770
%https://docs.aws.amazon.com/autoscaling/ec2/userguide/Cooldown.html
Autoscaling group seted with cooldown periods to avoid too much instances to by launched.

%Most popular parts of CloudWatch:
%https://youtu.be/k7wuIrHU4UY?t=785

% LINKS :

%https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/GettingStarted.html
%https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/WhatIsCloudWatch.html

%https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/Install-CloudWatch-Agent.html

%BEISPIEL VON BILLING ALARM
\subsubsection{Fakturierungsalarms mit CloudWatch}
%Seite 145 Amazon CloudWatch - Benutzerhandbuch
AWS CloudWatch empfängt Abrechnungsmetriken für alle Ressourcen. Auf der Grundlage dieser Metriken ist es daher möglich, Regeln zu erstellen, die bei Überschreitung des geplanten Budgets einen Alarm auslösen.
[KANN MAN NUR Total Estimated Charge verwenden ODER KÖNNTE MAN NACH PROJEKTE TRENNEN?]
[WIE KANN MAN EIN BEZUG AUF PROJEKTMANAGEMENT/Kostenkontrolle MACHEN?]

\subsubsection{Alarm bei Hoch- und Runterfahren von EC2-Instanzen}
Obwohl Auto-Scaling dafür sorgt, die Rechenkapazität dynamisch anzupassen, ist es von größter Wichtigkeit, über Änderungen in der Infrastruktur informiert zu sein, ohne die Dashboards manuell überprüfen zu müssen.
WEIL ....

\subsection{AWS Cost-Explorer}
Mit Cost Explorer können Kosten der letzten 12 Monate und eine Schätzung der Kosten des laufenden Monats visualisiert werden. Darüber hinaus wird eine Kostenprognose für die nächsten Monate erstellt. Die Prognose basieren auf die Kosten der vergangenen Monaten.
Die Nutzung des Cost Explorers ist kostenlos, nur API-Aufrufe sind kostenpflichtig \footnote{https://aws.amazon.com/de/aws-cost-management/pricing/}.
\\
%Mio:
%Conocer clos costos en un periodo de tiempo nos permite %saber si estamos en el camino correcto para alcanzar las %metas trazadas al inicio del periodo/proyecto y tomar %las medidas adecuadas para que al final del periodo/%proyecto tengamos resultados satisfactorios.
Es gibt drei Arten von Berichten, die der Cost Explorer bereitstellt:
-reporting on the usage and cost incurred in the past 12 months.
Bericht über die Nutzung und die in den letzten 12 Monaten entstandenen Kosten
\\
-forecasting how much you are going to spend in the next three months based on your past usage.
Prognostizieren Sie Ihre voraussichtlichen Kosten.
Dient zur Planung...
\\
- and getting recommendations as well on the type of instances to use.
Empfehlungen zu Reserved Instances.
%t.ly/6bvZ
Amazon analysiert die bisherige Nutzung der Instanzen und gibt Empfehlungen zur Kostensenkung durch den Wechsel von EC2-Instanzen zu reservierten Instanzen.
Amazon generiert Empfehlungen automatisch, indem es die Nutzung der EC2-Instanzen analysiert.
Diese ignorieren Kapazität, die bereits von anderen reservierten Instanzen abgedeckt wurden.

%___________________________________________________________________________________________________________
%Eine allgemeine Übersicht kann verschafft werden indem die mehr benutzte Ressourcen/Dienstleistungen./ fünf wichtigsten Kostentrends
% https://youtu.be/3peNAKB3VxA?t=223
\textbf{Aktuelle Budgets vs erwartet}


\subsection{AWS Trusted advisor}
%https://aws.amazon.com/de/premiumsupport/technology/trusted-advisor/
%Kunden von AWS Basic Support und AWS Developer Support können auf grundlegende Sicherheitsprüfungen und alle Prüfungen für Servicekontingente zugreifen. Kunden von AWS Business Support und AWS Enterprise Support können auf alle Prüfungen zugreifen, einschließlich Kostenoptimierung, Sicherheit, Fehlertoleranz, Leistung und Servicekontingente. 
%was macht dieses?
%AWS Trusted Advisor: This helps you know more about idle or underutilized resources.

AWS Trusted Advisor ist ein Werkzeug, welches hilft, Kosten zu senken, die Systemverfügbarkeit und -leistung zu verbessern und die Sicherheit zu erhöhen. Es analysiert die Nutzung des AWS-Kontos und gibt Best-Practice-Empfehlungen.

%Diese Arbeit legt den Schwerpunkt auf Empfehlungen zur Optimierung.
\textbf{Kostenoptimierung}\\
Die Empfehlungen zur Kostenoptimierung konzentrieren sich auf Möglichkeiten zur Kostensenkung, indem ungenutzte Ressourcen hervorgehoben werden. So werden beispielsweise EC2-Instanzen mit geringer Auslastung und nicht zugewiesene Elastic IP-Adressen überprüft. 

\textbf{Leistungsgrenzen}\\
In dieser Kategorie werden Empfehlungen zur Vermeidung von Grenzwertüberschreitungen hervorgehoben.
Es wird zum Beispiel nach einer Nutzung gesucht, die mehr als 80 \% des Leistungsgrenzwerten für wichtige Dienste beträgt, wie  Amazon EC2, Auto Scaling, Elastic Block Store, Simple Email Service, AWS CloudFormation.

Sich dieser Grenzen bewusst zu sein, gibt die Möglichkeit, rechtzeitig zu handeln und es trägt zu Kostenüberwachung bei.

[ABSCHLUSS DES KAPITELS/Überbrückung FÜR DAS KOMMENDE KAPITEL]


\begin{comment}
AWS Cost Explorer Budgets show actual spend vs budget by month.
Filter by budgets, tags and tax, region, instances, usage type, cost category
Die Kosten vorhersehbar machen
Wiederverwendung gespeicherter Berichte. Welche Vorteile?

Da kann man sehen wie viele Stunden an RI und an On-Demand pro Tag/Monat verbraucht wurden.
-	Informationen um Schätzungen handelt, die von den tatsächlichen Kosten für den Abrechnungszeitraum abweichen können. %https://youtu.be/3peNAKB3VxA?t=705
-	Kann ich die Usage von S3 Einheiten und analysieren, wie häufig diese zugegriffen werden %https://youtu.be/pjrKDkzbas8?t=2425
-	Man könnte herausfinden, ob die RIs tatsächlich günstiger als ON-Demand sind. Wenn die RIs sind „konvertierbar“ und teurer als On-Demand, könnte man sich dafür entscheiden diese in was umzuwandeln, was genutzt wird. %https://youtu.be/pjrKDkzbas8?t=3385

%(How to use Spots and on-demand)
%detect CPU Utilization, with Amazon CloudWatch
\end{comment}
%IST taging EINE STRATEGIE?
%I could compute the cost of a query, user, transaction
% https://youtu.be/qYHR_V1lvNU?t=375